@using Web_App.AppCode.Helper.Language
@using WebApp.Helpers

<script src="~/Scripts/Views/Solicitud/vGenerarSolicitud/vGenerarSolicitudAdicionales.js"></script>

@{
    ViewBag.Title = "Registrar";
    var viewName = "vGenerarSolicitudAdicionales";
    Layout = "~/Views/Shared/_LayoutCliente.cshtml";
}



<style>
    .form-check {
        display: inline-block;
    }

    .form-group {
        margin: 0 0;
    }

    .md-form {
        margin: 16px 0;
    }

    .help-block.error {
        margin-bottom: 5px;
    }

    .has-error label {
        color: #ff3547 !important;
    }

    .has-error input.form-control {
        border-bottom-color: #ff3547 !important;
    }
</style>


<div class="container-fluid padding">
    <div class="row welcome text-center">
        <div class="col-12">
            <h1 class=" brand-font pt-4">@LanguageHelper.GenerarNuevaSolicitudTrabajo</h1>
        </div>
        <hr>

        <div class="col-12">
            <p class="lead">@LanguageHelper.GenerarNuevaSolicitudTrabajoDescripcion</p>
        </div>
    </div>
</div>

<div class="container">
    <div class="row d-flex justify-content-center">


        <div class="card col-10 mt-4 h-25">

            <!--Tabs con los titulos de cada tabla-->
            <div class="pt-3 pl-3 pr-3">
                <ul class="nav md-pills nav-justified pills-blue">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#panelEspecialidad" role="tab">@LanguageHelper.Especialidades</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#panelTipoTrabajo" role="tab">@LanguageHelper.TiposTrabajo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#panelFotografias" role="tab">@LanguageHelper.Fotografias</a>
                    </li>
                </ul>


            </div>


            <div class="card-body">

                <div id="main">

                    @{
                        string columnsTitleEspecialidad = LanguageHelper.ID + "," + LanguageHelper.Nombre + "," + LanguageHelper.Acciones;

                        string columnsTitleTipoTrabajo = LanguageHelper.ID + "," + LanguageHelper.Nombre + "," + LanguageHelper.Acciones;

                        string columnsTitleFotografias = LanguageHelper.ID + "," + LanguageHelper.Titulo + "," + LanguageHelper.URL + "," + LanguageHelper.Acciones;
                    }

                    <div class="tab-content p-0">

                        <!--Contenido de la tabla de especialidades-->
                        <div class="tab-pane fade in show active" id="panelEspecialidad" role="tabpanel">
                            <br>

                            @Html.CtrlTable(viewName: viewName, id: "tblEspecialidad", title: LanguageHelper.Especialidades,
                            columnsTitle: columnsTitleEspecialidad, ColumnsDataName: "ID_Especialidad,NombreEspecialidad", onSelectFunction: "BindFields", colorHeader: "red", hasButton: true, buttonId: "btnEspecialidad", buttonType: "success", buttonLabel: LanguageHelper.Annadir, buttonFunction: "", buttonToggle: "modal", buttonTarget: "EspecialidadModal")

                        </div>

                        <!--Contenido de la tabla de tipos trabajo-->
                        <div class="tab-pane fade" id="panelTipoTrabajo" role="tabpanel">
                            <br>

                            @Html.CtrlTable(viewName: viewName, id: "tblTipoTrabajo", title: LanguageHelper.TiposTrabajo,
                            columnsTitle: columnsTitleTipoTrabajo, ColumnsDataName: "ID_Tipo_Trabajo,NombreTipoTrabajo", onSelectFunction: "BindFields", colorHeader: "red", hasButton: true, buttonId: "btnTipoTrabajo", buttonType: "success", buttonLabel: LanguageHelper.Annadir, buttonFunction: "", buttonToggle: "modal", buttonTarget: "TipoTrabajoModal")
                        </div>

                        <!--Contenido de la tabla de forografias-->
                        <div class="tab-pane fade" id="panelFotografias" role="tabpanel">
                            <br>

                            @Html.CtrlTable(viewName: viewName, id: "tblFotografia", title: LanguageHelper.Fotografias,
                            columnsTitle: columnsTitleFotografias, ColumnsDataName: "ID,Titulo,URL", onSelectFunction: "BindFields", colorHeader: "red", hasButton: true, buttonId: "btnFotografia", buttonType: "success", buttonLabel: LanguageHelper.Annadir, buttonFunction: "", buttonToggle: "modal", buttonTarget: "FotografiaModal")


                        </div>
                        <!--/.Panel 3-->

                    </div>
                </div>

                <!--Boton para guardar la solicitud-->
                <div class="text-center pt-3">
                    <button id="btnEnviarSolicitud" class="btn btn-primary btn-lg">@LanguageHelper.Guardar</button>
                </div>
            </div>
        </div>
    </div>

</div>


<!-- Modal Especialidad -->
<div class="modal fade" id="EspecialidadModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">

    <!-- Change class .modal-sm to change the size of the modal -->
    <div class="modal-dialog" role="document">


        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title w-100" id="myModalLabel">@LanguageHelper.Especialidades</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                @Html.CtrlDropDown(name: "drpEspecialidad", columnDataName: "ID_Especialidad", id: "drp-especialidad", label: LanguageHelper.Especialidades, isAjax: false, length: "10", searchText: LanguageHelper.Buscar, disabled: string.Empty, labelOptionDisable: LanguageHelper.SeleccioneUnaOpcion, listId: "LST_ESPECIALIDAD")

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="btnEspecialidadAgregar">@LanguageHelper.Guardar</button>
                <button type="button" class="btn btn-light" id="btnEspecialidadCancelar" data-dismiss="modal">@LanguageHelper.Cancelar</button>

            </div>
        </div>
    </div>
</div>
<!-- Modal Especialidad -->
<!-- Modal Tipo Trabajo -->
<div class="modal fade" id="TipoTrabajoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">

    <!-- Change class .modal-sm to change the size of the modal -->
    <div class="modal-dialog" role="document">


        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title w-100" id="myModalLabel">@LanguageHelper.TiposTrabajo</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                @Html.CtrlDropDown(name: "drpTipoTrabajo", columnDataName: "ID_Tipo_Trabajo", id: "drp-tipo-trabajo", label: LanguageHelper.TiposTrabajo, isAjax: false, length: "10", searchText: LanguageHelper.Buscar, disabled: string.Empty, labelOptionDisable: LanguageHelper.SeleccioneUnaOpcion, listId: "LST_TIPO_TRABAJO")

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="btnTipoTrabajoAgregar">@LanguageHelper.Guardar</button>
                <button type="button" class="btn btn-light" id="btnTipoTrabajoCancelar" data-dismiss="modal">@LanguageHelper.Cancelar</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Tipo Trabajo -->
<!-- Modal Fotografia -->

@Html.CtrlModalForm(viewName: viewName, id: "FotografiaModal", modalFormId: "FotografiaModalForm", title: LanguageHelper.Fotografias, text: LanguageHelper.IngresarTextoCrear, inputColumnDataNames: "Titulo,URL,Upload", inputIds: "txtCreateTitulo,txtCreateURL,btnCreatePicture", inputTypes: "text,text,button", inputClasses: ",disabled,center-item w-50 btn-outline-success waves-effect mt-3 p-3 rounded mb-0 ", inputPlaceholders: ",,", inputLabels: LanguageHelper.Titulo + "," + LanguageHelper.URL + ",", inputValues: ",,Subir fotografía", btnActionId: "btnInsert", btnActionType: "success", btnActionText: LanguageHelper.Guardar, btnActionFunction: "CreateFotografia", btnCancelId: "btnInsertCancel", btnCancelType: "light", btnCancelText: LanguageHelper.Cancelar, btnCancelFunction: "CleanInsert")

<!--Modal de eliminacion especialidad-->

@Html.CtrlModalMessage(viewName: viewName, id: "deleteModalFirst", modalFormId: "deleteEspecialidadModalMessage", title: LanguageHelper.Eliminar, text: LanguageHelper.ConfirmacionEliminar, btnActionId: "btnEspecialidadDelete", btnActionType: "danger", btnActionText: LanguageHelper.Eliminar, btnActionFunction: "DeleteEspecialidad", btnCancelId: "btnEspecialidadDeleteCancel", btnCancelType: "light", btnCancelText: LanguageHelper.Cancelar, btnCancelFunction: "CleanSelect", spanId: "spanDeleteAttribute", spanClasses: "font-weight-bold", spanColumnDataName: "NombreEspecialidad")

<!--Modal de eliminacion tipo trabajo-->

@Html.CtrlModalMessage(viewName: viewName, id: "deleteModalSecond", modalFormId: "deleteTipoTrabajoModalMessage", title: LanguageHelper.Eliminar, text: LanguageHelper.ConfirmacionEliminar, btnActionId: "btnTipoTrabajoDelete", btnActionType: "danger", btnActionText: LanguageHelper.Eliminar, btnActionFunction: "DeleteTipoTrabajo", btnCancelId: "btnTipoTrabajoDeleteCancel", btnCancelType: "light", btnCancelText: LanguageHelper.Cancelar, btnCancelFunction: "CleanSelect", spanId: "spanDeleteAttribute", spanClasses: "font-weight-bold", spanColumnDataName: "NombreTipoTrabajo")

<!--Modal de eliminacion fotografia-->

@Html.CtrlModalMessage(viewName: viewName, id: "deleteModalThird", modalFormId: "deleteFotografiaModalMessage", title: LanguageHelper.Eliminar, text: LanguageHelper.ConfirmacionEliminar, btnActionId: "btnFotografiaDelete", btnActionType: "danger", btnActionText: LanguageHelper.Eliminar, btnActionFunction: "DeleteFotografia", btnCancelId: "btnFotografiaDeleteCancel", btnCancelType: "light", btnCancelText: LanguageHelper.Cancelar, btnCancelFunction: "CleanSelect", spanId: "spanDeleteAttribute", spanClasses: "font-weight-bold", spanColumnDataName: "Titulo")



<!-- Modal de solicitud enviada correctamente -->
<div class="modal fade" id="modalSolicitudCompletada" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-notify modal-success" role="document">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <p class="heading lead">@LanguageHelper.SolicitudTrabajoEnviada</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>

            <!--Body-->
            <div class="modal-body">
                <div class="text-center">
                    <i class="fas fa-check fa-4x mb-3 animated rotateIn"></i>
                    <p>
                        @LanguageHelper.SolicitudTrabajoEnviadaDescripcion
                    </p>
                </div>
            </div>

            <!--Footer-->
            <div class="modal-footer justify-content-center">
                <a type="button" class="btn btn-success" href="@Url.Action("vListarSolicitudes", "Solicitud")">@LanguageHelper.Listo</a>
            </div>
        </div>
        <!--/.Content-->
    </div>
</div>
<!-- Central Modal Medium Success-->


<script src="~/Scripts/Views/Solicitud/vGenerarSolicitud/CloudinaryUploader.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.cloudinary/1.0.18/jquery.cloudinary.js" type="text/javascript"></script>
<script src="https://widget.cloudinary.com/global/all.js" type="text/javascript"></script>
