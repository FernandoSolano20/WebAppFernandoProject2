@using Web_App.AppCode.Helper.Language
@using WebApp.Helpers

@{
    Layout = "~/Views/Shared/_LayoutCliente.cshtml";
}

<script type="text/javascript" src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>

<div class="container-fluid padding">
    <div class="row welcome text-center">
        <div class="col-12">
            <h1 class=" brand-font pt-4">@LanguageHelper.RealizarPagoSolicitud</h1>
        </div>
        <hr>

        <div class="col-12">
            <p class="lead">@LanguageHelper.RealizarPagoSolicitudDescripcion</p>
        </div>
    </div>
</div>

<div class="container">
    <div class="row d-flex justify-content-center">
        <div class="card col-10 p-0  mt-3">

            <div class="card-body p-0 rounded-lg">

                <div id="main" class="container p-0">
                    <div class="row py-2 px-2 mt-3 text-center d-flex justify-content-center">
                        <div class="col-sm-12 col-lg-4">
                            <p class="h6 mb-3">@LanguageHelper.FechaInicioTrabajo</p>
                        </div>

                        <div class="col-sm-12 col-lg-4">
                            <p class="h6 mb-3">@LanguageHelper.Presupuesto</p>
                        </div>
                    </div>

                    <div class="row py-2 px-2 mx-3 text-center d-flex justify-content-center">
                        <div class="col-sm-12 col-lg-4">
                            <p class="h6">@LanguageHelper.CostoNeto</p>
                        </div>

                        <div class="col-sm-12 col-lg-4">
                            <p ColumnDataName="CostoNeto" class="data"></p>
                        </div>
                    </div>

                    <div class="row py-2 px-2 mx-3 text-center d-flex justify-content-center">
                        <div class="col-sm-12 col-lg-4">
                            <p class="h6">@LanguageHelper.IVA</p>
                        </div>

                        <div class="col-sm-12 col-lg-4">
                            <p ColumnDataName="Impuestos" class="data"></p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6" style="margin:0 auto;">
                            <hr />
                        </div>
                    </div>

                    <div class="row py-2 px-2 mx-3 text-center d-flex justify-content-center">
                        <div class="col-sm-12 col-lg-4">
                            <p class="h6">@LanguageHelper.TotalDolares</p>
                        </div>

                        <div class="col-sm-12 col-lg-4">
                            <p ColumnDataName="PrecioFinal" class="data"></p>
                        </div>
                    </div>

                    <div class="row py-2 px-2 mx-3 text-center d-flex justify-content-center">
                        <div class="col-sm-12 col-lg-4">
                            <p class="h6">@LanguageHelper.Total</p>
                        </div>

                        <div class="col-sm-12 col-lg-4">
                            <p ColumnDataName="CostoTotal" class="data"></p>
                        </div>
                    </div>

                    <div class="row d-flex justify-content-center text-center my-3">
                        <div class="col-12">
                            <p class="h5">@LanguageHelper.CodigoQR</p>
                        </div>

                        <div class="col-6 ">
                            <video class="w-100 h-100" id="preview"></video>
                        </div>
                    </div>

                    <div class="row px-5 py-2 text-center grey-text">
                        <div class="col-12">
                            <p>@LanguageHelper.SolicitarCodigoQR</p>
                        </div>
                    </div>

                </div>


            </div>
        </div>
    </div>
</div>

<!-- Modal de solicitud enviada correctamente -->
<div class="modal fade" id="modalRealizarPago" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-notify modal-success" role="document">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <p class="heading lead">@LanguageHelper.RealizarPagoSolicitud</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>

            <!--Body-->
            <div class="modal-body">
                <div class="text-center">
                    <p>
                        @LanguageHelper.RealizarPagoSolicitudPaypal
                    </p>


                </div>
            </div>

            <!--Footer-->
            <div class="modal-footer justify-content-center">
                <div id="btnPaypalSolicitud" class="text-center px-3 mb-2">

                </div>
            </div>
        </div>
        <!--/.Content-->
    </div>
</div>
<!-- Central Modal Medium Success-->
<!-- Modal de rechazar oferta -->
<div class="modal fade" id="modalErrorCodigo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-notify modal-danger" role="document">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <p class="heading lead">@LanguageHelper.CodigoQRInvalido</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>

            <!--Body-->
            <div class="modal-body">
                <div class="text-center">
                    <p>
                        @LanguageHelper.RechazarOfertaTrabajoDescripcion
                    </p>
                </div>
            </div>

            <!--Footer-->
            <div class="modal-footer justify-content-center">
                <a type="button" class="btn btn-danger" data-dismiss="modal">@LanguageHelper.VolverIntentar</a>
            </div>
        </div>
        <!--/.Content-->
    </div>
</div>
<!-- Central Modal Medium Success-->
<!-- Modal de solicitud enviada correctamente -->
<div class="modal fade" id="modalSolicitudCompleta" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-notify modal-success" role="document">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <p class="heading lead">@LanguageHelper.SolicitudTrabajoFinalizada</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>

            <!--Body-->
            <div class="modal-body">
                <div class="text-center">
                    <i class="fas fa-check fa-4x mb-3 animated rotateIn"></i>
                    <p>
                        @LanguageHelper.SolicitudTrabajoFinalizadaDescripcion
                    </p>
                </div>
            </div>

            <!--Footer-->
            <div class="modal-footer justify-content-center">
                <a type="button" class="btn btn-success" href="@Url.Action("vListarSolicitudes", "Solicitud")">@LanguageHelper.Listo</a>
            </div>
        </div>
        <!--/.Content-->
    </div>
</div>


<script src="https://www.paypalobjects.com/api/checkout.js"></script>
<script src="~/Scripts/Views/Solicitud/vFinalizarSolicitud/PagoSolicitud/vPagoSolicitud.js"></script>
<script src="~/Scripts/Services/PayPal/PayPalService.js"></script>
